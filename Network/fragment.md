# 단편화

- 전송하고자 하는 패킷의 크기를 MTU 이하의 복수의 패킷으로 나누는 것
    - MTU(Maximum Transmission Unit)
        - 한 번에 전송 가능한 IP 패킷의 최대 크기
        - IP 패킷의 헤더도 MTU 크기에 포함
        - 일반적인 MTU 크기는 1500바이트, MTU 크기 이하로 나누어진 패킷은 수신지에 도착하면 다시 재조합

### 단편화, 많이 수행되는 것이 좋을까?

- NO!
- IP 단편화는 되도록 하지 않는 것이 좋음
- 불필요한 트래픽 증가와 대역폭 낭비
- 쪼개짓 IP 패킷들을 하나로 합치는 과정에서 발생하는 부하도 성능 저하 요소
- 적게 발생하면 적게 발생할수록 좋다

### IP 단편화 피하기

- IP 패킷을 주고받는 모든 노드가 ‘IP 단편화 없이 주고 받을 수 있는 최대 크기’ 만큼만 전송해야 함
- ‘IP 단편화 없이 주고 받을 수 있는 최대 크기’ = 경로 MTU(Path MTU)
    - 즉, 단편화를 피하는 방법은 경로 MTU 만큼의 데이터를 전송하는 것
    - 경로 MTU 발견(Path MTU discovery): 경로 MTU를 구하고 해당 크기 만큼만 숭수신하여 IP 단편화를 회피
- 실제로도 단편화는 자주 일어나지 않음
    - 대부분 DF(Don’t Fragment) 비트가 세팅되어 있음
