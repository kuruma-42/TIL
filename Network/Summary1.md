### 회선 교환 vs 패킷 교환

- 네트워크를 통해 데이터를 이동시키는 방식에는 회선 교환(circuit switching)과 패킷 교환이 있다.
- 회선 교환 방식은 통신에 필요한 자원을 미리 예약한다.
    - 따라서 보장된 전송률로 데이터를 일정하게 보낼 수 있다.
- 패킷 교환 방식은 통신에 필요한 자원을 예약하지 않는다.
    - 따라서 특정 링크가 혼잡하다면 패킷은 특정 링크의 버퍼에서 대기해야 하므로 지연이 발생할 수 있다.
- 회선 교환 방식은 할당된 회선이 비활용 기간에는 놀게되므로 비효율적이다.
    - 1MPS 전송률의 링크를 10명이 공유하는 경우, 각 사용하는 100kbps 회선이 예약된다 (1/n) 하게 된다.
    - 만약 9명의 사용자가 링크를 사용하지 않고 1명만 사용한다고 하면 900kbs의 자원은 놀게 됨
- 패킷 교환 방식은 전송 용량을 공유하므로 더 효율적이다
    - 앞선 예에서 사용자 10명이 동시에 링크를 사용하는 경우, 회선 교환 방식과 패킷 교환 방식의 효율이 비슷하다
        - 그러나 사용자 10명이 동시에 링크를 사용하는 경우는 거의 없다.
        - 또한 회선 교환 방식은 10명이 넘는 동시 사용자를 지원하기 힘들다
        - 그러나 패킷 교환은 큐를 사용하여 회선 방식 대비 3배 이상의 사용자 수를 허용한다.
    - 동시 사용자 수가 10명 미만이면 회선 교환 방식보다 더 빠른 속도의 전송률을 할당할 수 있다.

### 네트워크와 인터넷

- 네트워크
    - 두 대 이상의 컴퓨터들을 연결하고 통신할 수 있는 환경
    - 정보 공유가 주목적이다
- 인터넷
    - 전 세계의 다수에 네트워크를 서로 연결한 통합된 네트워크 시스템
    - 네트워크의 네트워크

### 패킷 교환 네트워크에서의 지연

- 현실에선, 네트워크 통신상의 데이터 손실이나 지연이 발생한다.
- processing delay (처리 지연)
    - 라우터가 upstream 으로 부터 받은 패킷을 조사하고, 어디로 보낼 지 결정하는 데 걸리는 시간
- queuing delay (큐잉 지연)
    - 패킷이 큐에서 링크로 전송되기를 기다리는 지연
    - 큐가 비어있고, 앞선 패킷이 전송중이 아니라면 큐잉 지연은 0
    - 트래픽이 많아 많은 패킷이 큐에서 대기중이라면 큐잉 지연이 커진다.
    - 큐가 가득 차있는 상태에서 도착한 패킷은 버려진다.
        - 패킷 손실이 발생한다
- transmission delay(전송 지연)
    - 라우터가 패킷의 모든 비트를 링크로 밀어내는데 걸리는 시간
- propagation delay(전파 지연)
    - 링크에서 이동하는 패킷이 목적지 라우터까지 이동하는데 걸리는 시간
    - 빛의 속도와 같거나 약간 작다

### 패킷 교환 네트워크에서의 처리율

- 평균 처리율이랑 특정 시간동안 네트워크가 처리한 비트 수를 의미한다.
    - e.g. bps, kbps, mbps
- 여러 개의 링크로 구성된 네트워크 처리율을 계산할 땐, 가장 작은 처리율을 가진 병목 링크의 전송률이 네트워크의 처리율이 된다.

### 프로토콜 계층

- 인터넷의 구조는 매우 복잡하다
    - 한 번에 통으로 이해하기 어렵다
- 인터넷의 다양한 프로토콜을 계층화하여 특정 부분만을 논의하고 다른 부분을 단순화할 수 있다.
- 또한 특정 계층이 제공하는 서비스의 구현을 변경하는 것이 쉽다.
    - 상위 계층에 같은 서비스를 제공하고 하위 계층의 같은 서비스를 이용한다면 특정 계층의 구현이 바뀌어도 시스템의 나머지 부분이 변하지 않는다.
    - 인터넷 프로토콜 스택은 5개 계층으로 이루어진다.

### 캡슐화

- 프로토콜 스택 아래로 데이터를 보내며 특정 계층에서 사용할 헤더 정보를 붙여가는 과정을 캡슐화라 한다.
- 상위 계층의 데이터가 편지지의 내용이고 하위 계층에서 붙이는 헤더가 편지지 봉투, 우표, 발신인, 수신인과 같다.
- 프로토콜 스택 아래에서 위로 올라가는 과정은 캡슐화의 반대 과정이다.

### 애플리케이션 계층

- 네트워크 애플리케이션과 애플리케이션 계층 프로토콜이 존재한다.
- 메시지를 사용해 서로 다른 위치에 있는 애플리케이션과 통신한다.

### 네트워크 애플리케이션

- 종단 시스템에서 동작하고, 네트워크를 통해 서로 통신하는 프로그램을 말한다.
- 네트워크 애플리케이션은 컴퓨터 네트워크의 핵심이다.
    - 구글, 유튜브, 넷플릭스와 같은 서비스들 모두 네트워크 애플리케이션이다
