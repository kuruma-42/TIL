# 캡슐화와 역캡슐화
![스크린샷 2024-09-30 오전 8 41 11](https://github.com/user-attachments/assets/763c3c23-81b1-450d-b640-216b0f0d8888)


### 송신 과정에서 캡슐화, 수신 과정에서 역캡슐화

- 메시지는 송신지 입장에서는 가장 높은 계층에서부터 가장 낮은 계층으로 이동
    - 송신 과정에서 각 계층에서 붙어야 하는 헤더들이 붙는다.
    - 물리 계층에서 신호로 변경되어 송신된다.
- 메시지는 수신지 입장에서 가장 낮은 계층에서부터 가장 높은 계층으로 이동

### 캡슐화

- 계층 별 프로토콜의 목적과 특징에 부합하는 헤더(+트레일러) 추가
    - 상위 계층의 헤더 + 페이로드는 하위 계층의 페이로드가 된다
- 상위 계층으로부터 내려받은 패킷을 페이로드 삼아, 프로토콜에 걸맞은 헤더(혹은 트레일러)를 덧붙인 후 하위 계층으로 전달
- 상위 계층의 패킷은 하위 계층에서의 페이로드로 간주

### 역캡슐화

- 계층 별 프로토콜의 목적과 특징에 부합하는 헤더 제거
- 캡슐화 과정에서 붙였던 헤더(및 트레일러)를 각 계층에서 확인한 뒤 제거하는 과정

PDU(Protocol Data Unit)

- 각 계층에서 송수되는 메시지의 단위
- 현재 계층의 PDU = 상위 계층 데이터 + 현재 계층의 프로토콜 헤더(및 트레일러)
